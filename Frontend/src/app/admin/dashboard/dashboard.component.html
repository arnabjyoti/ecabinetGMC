<app-sidebar (collapsedChange)="onSidebarToggle($event)"></app-sidebar>

<div class="main-content" [class.collapsed]="sidebarCollapsed">
<!-- <h3 class="fw-bold mb-4">Mayor in council(MIC) - Dashboard</h3> -->
<h3 class="fw-bold mb-4"> - Dashboard</h3>

<!-- <button (click)="getAnalyticsData()">getAnalyticsData</button>
<button (click)="getMonthlyIssuesForChart()">getMonthlyIssuesForChart</button> -->
    <!-- SUMMARY CARDS -->
    <div class="row g-4 mb-4">
      <div class="col-md-3"><div class="issue-card">Total Agendas Raised <br> <span class="text-primary fs-3">{{counts.all}}</span></div></div>
      <div class="col-md-3"><div class="issue-card">In-Process <br> <span class="text-warning fs-3">{{counts.pending}}</span></div></div>
      <div class="col-md-3"><div class="issue-card">Approved <br> <span class="text-success fs-3">{{counts.accepted}}</span></div></div>
      <div class="col-md-3"><div class="issue-card">Rejected <br> <span class="text-danger fs-3">{{counts.rejected}}</span></div></div>
    </div>
  <!-- ISSUE LIST TABLE -->
  <h4 class="fw-bold mb-3">Agenda List</h4>
  <table class="table table-striped table-bordered bg-white shadow-sm">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Agenda Title</th>
        <th>Ward No.</th>
        <th>Status</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let i of recentIssues">
        <td>#</td>
        <td>{{ i.title }}</td>
        <td>{{ i.ward }}</td>
        <td>{{ i.status }}</td>
        <td>{{ i.createdAt | date }}</td>
      </tr>
    </tbody>
  </table>

  <hr class="my-5">

  <!-- GRAPH -->
  <h4 class="fw-bold mb-3">Agendas Registered - Monthly Graph</h4>
  <canvas id="issueGraph"></canvas>
</div>